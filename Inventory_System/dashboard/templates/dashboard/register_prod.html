{% load static %}
<!DOCTYPE html>
<html lang="en">
  <head>
    <style>
      .lobster-head {
        font-family: "Lobster", cursive;
      }
    </style>
    <meta charset="UTF-8" />
    <title>Inventory System - Registration</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.min.css"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Lobster&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="{% static '/css/register.css' %}" />
    <style>
      .button {
        background-color: #e94560;
        color: white;
      }
    </style>
  </head>
  <body>
    <header class="header">
      <h1 class="header__title lobster-head">Product Registration</h1>
    </header>
    <div class="content">
      <div class="content__inner">
        <div class="container overflow-hidden">
          <div class="multisteps-form">
            <div class="row">
              <div class="col-12 col-lg-8 ml-auto mr-auto mb-4">
                <div class="multisteps-form__progress">
                  <button
                    class="multisteps-form__progress-btn js-active lobster-head"
                    type="button"
                    title="User Info"
                    id="userinfo"
                  >
                    Product Info
                  </button>
                  <button
                    class="multisteps-form__progress-btn lobster-head"
                    type="button"
                    title="Address"
                  >
                    Photos
                  </button>
                </div>
              </div>
            </div>
            <div class="row">
              <div class="col-12 col-lg-8 m-auto">
                <form
                  name="myForm"
                  class="multisteps-form__form"
                  method="POST"
                  action=""
                >
                  {% csrf_token %}
                  <div
                    class="multisteps-form__panel shadow p-4 rounded bg-white js-active"
                    data-animation="scaleIn"
                  >
                    <h3
                      class="multisteps-form__title"
                      style="text-align: center"
                    >
                      Product Info
                    </h3>
                    <hr />
                    <div class="multisteps-form__content">
                      <div class="form-row mt-4">
                        <div class="col-12 col-sm-4">
                          <input
                            class="form-control"
                            type="text"
                            placeholder="Product Name"
                            id="pname"
                            name="productname"
                          />
                        </div>
                        <div class="col-12 col-sm-4 mt-4 mt-sm-0">
                          <input
                            class="form-control"
                            type="text"
                            placeholder="Brand"
                            name="brand"
                          />
                        </div>
                        <div class="col-12 col-sm-4 mt-4 mt-sm-0">
                          <input
                            class="form-control"
                            type="text"
                            placeholder="Color"
                            name="color"
                          />
                        </div>
                      </div>

                      <div class="form-row mt-4">
                        <div class="col-12 col-sm-4">
                          <input
                            class="form-control"
                            type="number"
                            placeholder="Size"
                            name="size"
                            step=".01"
                          />
                        </div>
                        <div class="col-12 col-sm-4 mt-4 mt-sm-0">
                          <!-- <select
                            class=" form-control"
                            name="gender"
                            id="gender"
                          >
                            <option value="Male">Male</option>
                            <option value="Female">Female</option>
                            <option value="Other">Other</option>
                          </select> -->
                          <input
                            class="form-control"
                            type="number"
                            placeholder="Price"
                            name="price"
                            step=".01"
                          />
                        </div>
                        <div class="col-12 col-sm-4 mt-4 mt-sm-0">
                          <input
                            class="form-control"
                            type="number"
                            placeholder="No of Stocks"
                            name="no_stocks"
                          />
                        </div>
                      </div>
                      <div class="button-row d-flex mt-4">
                        <button
                          class="btn ml-auto js-btn-next getStatus button"
                          type="button"
                          title="Next"
                        >
                          Next
                        </button>
                      </div>
                    </div>
                  </div>

                  <div
                    class="multisteps-form__panel shadow p-4 rounded bg-white"
                    data-animation="scaleIn"
                  >
                    <h3
                      class="multisteps-form__title"
                      style="text-align: center"
                    >
                      Upload Images
                    </h3>
                    <hr />
                    <div class="multisteps-form__content personal text-center">
                      <input
                        type="file"
                        class="btn ml-auto button"
                        multiple
                        id="gallery-photo-add"
                      />
                      <div class="gallery"></div>
                      <div class="button-row d-flex mt-4">
                        <button
                          id="prev"
                          class="btn js-btn-prev button"
                          type="button"
                          title="Prev"
                        >
                          Prev
                        </button>
                        <button
                          class="btn ml-auto button"
                          type="submit"
                          name="submit"
                        >
                          Save
                        </button>
                      </div>
                    </div>
                  </div>
                </form>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <script src="{% static '/js/register.js' %}"></script>
    <script
      src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"
      type="text/javascript"
    ></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>

    <script>
      $(function () {
        // Multiple images preview in browser
        var imagesPreview = function (input, placeToInsertImagePreview) {
          if (input.files) {
            var filesAmount = input.files.length;

            for (i = 0; i < filesAmount; i++) {
              var reader = new FileReader();

              reader.onload = function (event) {
                $($.parseHTML("<img>"))
                  .attr("src", event.target.result)
                  .appendTo(placeToInsertImagePreview)
                  .width("200px");
              };

              reader.readAsDataURL(input.files[i]);
            }
          }
        };

        $("#gallery-photo-add").on("change", function () {
          imagesPreview(this, "div.gallery");
        });
      });
      var childdiv;
      $(document).on("click", ".getStatus", function () {
        var str = $("#status").val();

        var html = "";

        if (str.length === 7) {
          html =
            '<div class="form-row mt-6 spouse"><div class="col-12 col-sm-6"><input class=" form-control"type="text" placeholder="Spouse Name" name="spousename"/> </div> <div class="col-12 col-sm-6 mt-4 mt-sm-0"> <input class="form-control" type="text" placeholder="Spouse Occupation" name="spouseoccupation" /> </div> </div>';

          $(".personal").prepend(html);
        } else if (str.length == 6) {
          childdiv = $(".child");
          $(".child").remove();
          $(".mothername").addClass("col-sm-6");
          $(".fathername").addClass("col-sm-6");
        }
      });

      $("#prev").click(function () {
        if (!$(".personal").hasClass("child")) {
          $(".personal-1").prepend(childdiv);
        }
        $(".spouse").remove();
        $(".mothername").removeClass("col-sm-6");
        $(".fathername").removeClass("col-sm-6");
      });

      // var x = 1;
      // $("#addTraining").click(function () {
      //   $("#training").toggle();
      //   var str = $("#addTraining").val();
      //   console.log(str.length);
      //   if (str.length === 3) {
      //     $("#addTraining").prop("value", "Remove");
      //   } else {
      //     $("#addTraining").prop("value", "Add");
      //   }
      //   var str = "training-" + x;
      //   x+= 1;
      //   var html = '<div class="count "> <div class="d-flex justify-content-between"> <div class="flex">Training</div> <div class="flex"> <input type="button" value="Add" id="addTraining" class="btn ml-auto"style="background-color: #e94560; color: white" /> </div></div><div class="countID"><div class="form-row mt-4"> <div class="col-12 col-sm-6 mt-4 mt-sm-0"><input class="multisteps-form__input form-control" type="text" placeholder="Title" name="title" /> </div> <div class="col-12 col-sm-6 mt-4 mt-sm-0"> <input class="multisteps-form__input form-control" type="text" placeholder="Sponsor" name="sponsor" /> </div> </div> <div class="form-row mt-4"> <div class="col-12 col-sm-6 mt-4 mt-sm-0"> <input class="multisteps-form__input form-control" ="date" name="birthday" required /> </div> <div class="col-12 col-sm-6 mt-4 mt-sm-0"> <input class="multisteps-form__input form-control"type="venue"placeholder="Venue"name="venue"/></div></div></div></div><hr />';

      // });
    </script>
    <script>
      //FIX LATER
      // function validateForm() {
      //   var pname_flag = false;
      //   var x = document.forms["myForm"]["productname"].value;
      //   console.log(x);

      //   if (x == null || x == "") {
      //     pname_flag = true;
      //   }

      //   if (pname_flag) {
      //     alert("Name must be filled out");
      //     if (!pname_flag)
      //       document.getElementById("pname").style.border = "3px solid #ced4da";

      //     if (pname_flag)
      //       document.getElementById("pname").style.border = "3px solid red";

      //     document.getElementById("userinfo").click();
      //     return false;
      //   }
      // }
    </script>
  </body>
</html>
